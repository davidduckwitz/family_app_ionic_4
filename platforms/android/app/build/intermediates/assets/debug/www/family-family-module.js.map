{"version":3,"sources":["webpack:///./src/app/family/family.module.ts","webpack:///./src/app/family/family.page.html","webpack:///./src/app/family/family.page.scss","webpack:///./src/app/family/family.page.ts"],"names":[],"mappings":"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","file":"family-family-module.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\nimport { IonicModule } from '@ionic/angular';\nimport { ModalController } from '@ionic/angular';\nimport { FamilyPage } from './family.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: FamilyPage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    RouterModule.forChild(routes)\n  ],\n  declarations: [FamilyPage],\n  entryComponents: []\n})\nexport class FamilyPageModule {}\n","module.exports = \"<ion-header translucent=\\\"\\\" class=\\\"header header-ios header-translucent header-translucent-ios hydrated\\\">\\n  <ion-toolbar class=\\\"hydrated\\\">\\n    <ion-title class=\\\"title-ios hydrated\\\">Family</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<!-- Tab bar -->\\n<ion-tab-bar slot=\\\"start\\\">  \\n  <ion-tab-button tab=\\\"person-add\\\" *ngIf=\\\"SelectedFamily > 0\\\" (click)=\\\"openAddMemberModal(SelectedFamily)\\\">\\n    <ion-icon style=\\\"height: 20px;\\\" name=\\\"person-add\\\"></ion-icon>\\n      Familienmitglied hinzufügen\\n  </ion-tab-button>\\n  <ion-tab-button tab=\\\"add-family\\\" (click)=\\\"addFamilyModal()\\\">\\n    <ion-icon style=\\\"height: 20px;\\\" name=\\\"person-add\\\"></ion-icon>\\n     Neue Familie\\n  </ion-tab-button>\\n  <ion-tab-button tab=\\\"locate\\\" (click)=\\\"locate()\\\">\\n    <ion-icon name=\\\"pin\\\"></ion-icon>\\n    Position Senden<br>\\n    {{ Mylocation }}\\n  </ion-tab-button>\\n  <ion-tab-button tab=\\\"settings\\\" [routerLink]=\\\"['/settings']\\\">\\n    <ion-icon name=\\\"settings\\\"></ion-icon>\\n    Familien Einstellungen\\n  </ion-tab-button>\\n</ion-tab-bar>\\n\\n<!-- Segment in a toolbar -->\\n<ion-toolbar>\\n        <ion-row>\\n        <ion-col col-4>\\n           <!-- Enter Code -->\\n           <ion-input type=\\\"text\\\" placeholder=\\\"Family Code eingeben\\\" #familycode></ion-input>\\n           <ion-button (click)=\\\"addFamilyCode(familycode.value)\\\">ENTER Family Code</ion-button>           \\n           <ion-select #newFam placeholder=\\\"Select Your Family\\\" (ionChange)=\\\"onChangeNewfam($event)\\\">\\n              <ion-select-option [value]=\\\"group.id\\\" *ngFor=\\\"let group of family\\\">\\n\\n                <span *ngIf=\\\"group.invite !== 'true'\\\">\\n                  {{ group.name }} (CODE: {{ group.hash }})\\n                </span>\\n                <span *ngIf=\\\"group.invite === 'true'\\\">\\n                  {{ group.name }} \\n                </span>\\n\\n              </ion-select-option>                           \\n            </ion-select>\\n        </ion-col>\\n        <ion-col col-8>\\n          Family Quickselect                      \\n          <button ion-button color=\\\"warning\\\" *ngFor=\\\"let group of family; let i = index\\\"  (click)=\\\"loadFamilyMembers(group.id)\\\">{{ i + 1 }}</button>           \\n          <!-- Searchbar with value -->\\n          <ion-searchbar value=\\\"Name\\\"></ion-searchbar>\\n          <span *ngIf=\\\"familymembers.length === 0\\\">\\n              <p>Add a member to your Family</p>\\n              <p>\\n                <ion-button tab=\\\"person-add\\\" *ngIf=\\\"SelectedFamily > 0\\\" (click)=\\\"openAddMemberModal(SelectedFamily)\\\">\\n                  <ion-icon style=\\\"height: 20px;\\\" name=\\\"person-add\\\"></ion-icon>\\n                    Familienmitglied hinzufügen\\n                </ion-button>\\n              </p>\\n            </span>\\n          <ion-item ion-button class=\\\"hydrated\\\" (click)=\\\"openModal(member)\\\" *ngFor=\\\"let member of familymembers\\\" detail>              \\n              \\n              <ion-avatar slot=\\\"start\\\" class=\\\"hydrated\\\">\\n                <img [src]=\\\"member.image\\\" >              \\n              </ion-avatar>\\n              <ion-label class=\\\"sc-ion-label-md-h sc-ion-label-md-s hydrated\\\">\\n                <h2>{{ member.firstname }} {{ member.lastname }}</h2>            \\n              </ion-label> \\n              \\n          </ion-item>    \\n        </ion-col>\\n        </ion-row>\\n</ion-toolbar>\\n\\n<ion-content padding>\\n  <ion-row>  \\n       \\n  </ion-row>\\n</ion-content>\\n  <!-- Tab bar -->\\n  <ion-tab-bar slot=\\\"bottom\\\" class=\\\"tbs-10\\\" style=\\\"max-height: 10%;\\\">\\n    <ion-tab-button tab=\\\"dashboard\\\" [routerLink]=\\\"['/user']\\\"> \\n      <img src=\\\"/assets/icon/mypage.png\\\" style=\\\"width: 40px; height: 40px;\\\">\\n    </ion-tab-button>\\n    <ion-tab-button tab=\\\"account\\\" [routerLink]=\\\"['/family']\\\">\\n      <img src=\\\"/assets/icon/family_blue.png\\\" style=\\\"width: 40px; height: 40px;\\\">\\n    </ion-tab-button>\\n    <ion-tab-button tab=\\\"contact\\\" [routerLink]=\\\"['/communication']\\\">\\n      <img src=\\\"/assets/icon/communication_blue.png\\\" style=\\\"width: 40px; height: 40px;\\\">\\n    </ion-tab-button>\\n    <ion-tab-button tab=\\\"calendar\\\" [routerLink]=\\\"['/calendar']\\\">\\n      <img src=\\\"/assets/icon/calendar_blue.png\\\" style=\\\"width: 40px; height: 40px;\\\">\\n    </ion-tab-button>\\n    <ion-tab-button tab=\\\"tracking\\\" [routerLink]=\\\"['/tracking']\\\">\\n      <img src=\\\"/assets/icon/tracking2_blue.png\\\" style=\\\"width: 40px; height: 40px;\\\">\\n    </ion-tab-button>\\n    <ion-tab-button tab=\\\"settings\\\" [routerLink]=\\\"['/settings']\\\">\\n      <img src=\\\"/assets/icon/settings_blue.png\\\" style=\\\"width: 40px; height: 40px;\\\">\\n    </ion-tab-button>\\n  </ion-tab-bar>\\n\"","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2ZhbWlseS9mYW1pbHkucGFnZS5zY3NzIn0= */\"","import { Component, OnInit } from '@angular/core';\nimport { ModalController } from '@ionic/angular';\nimport { NativeStorage } from '@ionic-native/native-storage/ngx';\nimport { FamilyModalComponent } from '../components/family-modal/family-modal.component';\nimport { AddtofamilyModalComponent } from '../components/addtofamily-modal/addtofamily-modal.component';\nimport { AddfamilyModalComponent } from '../components/addfamily-modal/addfamily-modal.component';\nimport { Geolocation } from '@ionic-native/geolocation/ngx';\nimport { FamilyService } from '../services/family.service';\nimport { AuthenticationService } from '../services/authentication.service';\nimport { TrackingService } from '../services/tracking.service';\nimport { AlertController, Platform } from '@ionic/angular';\n\n@Component({\n  selector: 'app-family',\n  templateUrl: './family.page.html',\n  styleUrls: ['./family.page.scss'],\n})\nexport class FamilyPage implements OnInit {\n  Mylocation: any = '';\n  SelectedFamily = 0;\n  family: any = [];\n  familymembers: any = [];\n  newMember: any;\n  user: any;\n\n  constructor(public modalController: ModalController,\n    public alertController: AlertController,\n    private geolocation: Geolocation,\n    private familyService: FamilyService,\n    private authenticationService: AuthenticationService,\n    private platform: Platform,\n    private trackingService: TrackingService,\n    private nativeStorage: NativeStorage) {}\n\n  ngOnInit() {\n      this.user = this.authenticationService.getUser();\n      this.loadFamily(this.user.userid);\n  }\n\n  addFamilyCode(hash: string) {\n    this.familyService.addTamilyByHash(hash, this.user.userid).subscribe(response => {\n      this.loadFamily(this.user.userid);\n    }, error => {\n          console.log(error.status);\n          this.presentAlert('Success', error.status);\n    });\n  }\n\n  loadFamily(id: number) {\n    this.familyService.getFamilysByUserId(id).subscribe(response => {\n      this.family = response;\n      if (response[0].id){\n        this.loadFamilyMembers(response[0].id);\n      } else {\n        this.presentAlert('Success', 'You do not have any Familys yet, Create a Family to start...');\n      }\n    }, error => {\n          console.log(error.status);\n          this.presentAlert('Success', error.status);\n    });\n  }\n\n  async presentAlert(title: string, content: string) {\n    const alert = await this.alertController.create({\n    header: title,\n        message: content,\n        buttons: ['OK']\n      });\n      await alert.present();\n    }\n\n    onChangeNewfam($event) {\n      this.loadFamilyMembers($event.detail.value);\n    }\n\n  loadFamilyMembers(id: number) {\n    this.SelectedFamily = id;\n    this.familyService.getFamilymembersByUserId(id).subscribe(response => {\n      this.familymembers = response;\n    }, error => {\n          console.log(error.status);\n          this.presentAlert('Success', error.status);\n    });\n  }\n\n  locate() {\n    this.geolocation.getCurrentPosition().then((resp) => {\n      this.Mylocation.lat = resp.coords.latitude;\n      this.Mylocation.lng = resp.coords.longitude;\n      let encodedLoation = JSON.stringify(this.Mylocation);\n          this.trackingService.setNewPosition(\n            this.user.userid,\n            this.user.image,\n            encodedLoation,\n            this.SelectedFamily)\n          .subscribe(messages => {\n           console.log(encodedLoation);\n           this.presentAlert('success', encodedLoation);\n          });\n     }).catch((error) => {\n      this.presentAlert('danger', 'Error getting location' + error.status);\n     });\n  }\n\n  openModal(value: any) {\n    this.familyModal(value);\n  }\n\n  openAddMemberModal(id: number) {\n    this.addToFamilyModal(id);\n  }\n\n\n  async familyModal(value: any) {\n    const modal = await this.modalController.create({\n      component: FamilyModalComponent,\n      componentProps: { value: value, currentuserId: this.user.userid }\n    });\n\n    return await modal.present();\n  }\n\n  async addToFamilyModal(id: number) {\n    const modal = await this.modalController.create({\n      component: AddtofamilyModalComponent,\n      componentProps: { family_id: id }\n    });\n    modal.onDidDismiss().then((d: any) => {\n      this.loadFamily(this.user.userid);\n      // this.addToFamilyModal(d);\n    });\n    return await modal.present();\n  }\n\n  async addFamilyModal() {\n    const modal = await this.modalController.create({\n      component: AddfamilyModalComponent,\n      componentProps: { userid: this.user.userid }\n    });\n    modal.onDidDismiss().then((d: any) => {\n      this.loadFamily(this.user.userid);\n      // this.addToFamilyModal(d);\n    });\n    return await modal.present();\n  }\n\n}\n"],"sourceRoot":""}