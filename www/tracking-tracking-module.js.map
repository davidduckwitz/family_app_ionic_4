{"version":3,"sources":["webpack:///./src/app/tracking/tracking.module.ts","webpack:///./src/app/tracking/tracking.page.html","webpack:///./src/app/tracking/tracking.page.scss","webpack:///./src/app/tracking/tracking.page.ts"],"names":[],"mappings":"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","file":"tracking-tracking-module.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { TrackingPage } from './tracking.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: TrackingPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    RouterModule.forChild(routes)\r\n  ],\r\n  declarations: [TrackingPage]\r\n})\r\nexport class TrackingPageModule {}\r\n","module.exports = \"<ion-header>\\r\\n  <ion-toolbar color=\\\"primary\\\">\\r\\n    <ion-title>tracking: {{location.lat}} {{location.lng}}</ion-title>\\r\\n    <ion-buttons slot=\\\"start\\\">\\r\\n        <ion-menu-button></ion-menu-button>               \\r\\n      </ion-buttons>\\r\\n    <ion-button color=\\\"danger\\\" expand=\\\"block\\\" (click)=\\\"locate()\\\">\\r\\n        Meine Position\\r\\n      </ion-button>\\r\\n  </ion-toolbar>  \\r\\n</ion-header>\\r\\n\\r\\n <!--create a element for map. #Map - identifier -->  \\r\\n <div #Map class=\\\"map\\\"></div>\\r\\n<ion-content>\\r\\n  <ion-row>\\r\\n    <ion-col>\\r\\n     \\r\\n    </ion-col>\\r\\n  </ion-row>\\r\\n</ion-content>\\r\\n\\r\\n\\r\\n  <!-- Tab bar -->\\r\\n  <ion-tab-bar slot=\\\"bottom\\\" class=\\\"tbs-10\\\" style=\\\"max-height: 10%;\\\">\\r\\n    <ion-tab-button tab=\\\"dashboard\\\" [routerLink]=\\\"['/user']\\\">\\r\\n      <img src=\\\"/assets/icon/mypage.png\\\" style=\\\"width: 40px; height: 40px;\\\">\\r\\n    </ion-tab-button>\\r\\n    <ion-tab-button tab=\\\"account\\\" [routerLink]=\\\"['/family']\\\">\\r\\n      <img src=\\\"/assets/icon/family_blue.png\\\" style=\\\"width: 40px; height: 40px;\\\">\\r\\n    </ion-tab-button>\\r\\n    <ion-tab-button tab=\\\"contact\\\" [routerLink]=\\\"['/communication']\\\">\\r\\n      <img src=\\\"/assets/icon/communication_blue.png\\\" style=\\\"width: 40px; height: 40px;\\\">\\r\\n    </ion-tab-button>\\r\\n    <ion-tab-button tab=\\\"calendar\\\" [routerLink]=\\\"['/calendar']\\\">\\r\\n      <img src=\\\"/assets/icon/calendar_blue.png\\\" style=\\\"width: 40px; height: 40px;\\\">\\r\\n    </ion-tab-button>\\r\\n    <ion-tab-button tab=\\\"tracking\\\" [routerLink]=\\\"['/tracking']\\\">\\r\\n      <img src=\\\"/assets/icon/tracking2_blue.png\\\" style=\\\"width: 40px; height: 40px;\\\">\\r\\n    </ion-tab-button>\\r\\n    <ion-tab-button tab=\\\"settings\\\" [routerLink]=\\\"['/settings']\\\">\\r\\n      <img src=\\\"/assets/icon/settings_blue.png\\\" style=\\\"width: 40px; height: 40px;\\\">\\r\\n    </ion-tab-button>\\r\\n  </ion-tab-bar>\\r\\n\\r\\n\"","module.exports = \".map {\\n  height: 85%; }\\n\\n.tbs-10 {\\n  height: 15%; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvdHJhY2tpbmcvRzpcXGFuZHJvaWRcXGZhbWlseV9uZXcvc3JjXFxhcHBcXHRyYWNraW5nXFx0cmFja2luZy5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDSSxXQUFXLEVBQUE7O0FBR2Y7RUFDRSxXQUFXLEVBQUEiLCJmaWxlIjoic3JjL2FwcC90cmFja2luZy90cmFja2luZy5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIubWFwe1xyXG4gICAgaGVpZ2h0OiA4NSU7XHJcbiAgICBcclxuICB9XHJcbi50YnMtMTB7XHJcbiAgaGVpZ2h0OiAxNSU7XHJcbn0iXX0= */\"","import { Component, OnInit, ElementRef, NgZone, ViewChild } from '@angular/core';\r\nimport { Geolocation } from '@ionic-native/geolocation/ngx';\r\nimport { TrackingService } from '../services/tracking.service';\r\nimport { AuthenticationService } from '../services/authentication.service';\r\nimport { ModalController, Platform } from '@ionic/angular';\r\ndeclare var google: any;\r\n\r\n@Component({\r\n  selector: 'app-tracking',\r\n  templateUrl: './tracking.page.html',\r\n  styleUrls: ['./tracking.page.scss'],\r\n})\r\nexport class TrackingPage implements OnInit {\r\n\r\n    @ViewChild('Map') mapElement: ElementRef;\r\n    user: any;\r\n    bounds: any;\r\n    bouncingMarker: any;\r\n    infoWindows = [];\r\n    map: any;\r\n    markers = [];\r\n    mapOptions: any;\r\n    location = {lat: 50.5822654, lng: 9.6260155};\r\n    markerOptions: any = {position: null, map: null, title: null};\r\n    gmapstyles = [{\r\n      'featureType': 'administrative.country',\r\n      'elementType': 'geometry.fill',\r\n      'stylers': [{\r\n          'visibility': 'on'\r\n        }, {\r\n          'color': '#e9b3b3'\r\n        }\r\n      ]\r\n    }, {\r\n      'featureType': 'administrative.country',\r\n      'elementType': 'labels.text',\r\n      'stylers': [{\r\n          'visibility': 'on'\r\n        }, {\r\n          'color': '#f49d9d'\r\n        }\r\n      ]\r\n    }, {\r\n      'featureType': 'administrative.country',\r\n      'elementType': 'labels.text.stroke',\r\n      'stylers': [{\r\n          'color': '#ffffff'\r\n        }\r\n      ]\r\n    }, {\r\n      'featureType': 'administrative.province',\r\n      'elementType': 'geometry.fill',\r\n      'stylers': [{\r\n          'color': '#f7f2f2'\r\n        }\r\n      ]\r\n    }, {\r\n      'featureType': 'administrative.province',\r\n      'elementType': 'labels.text',\r\n      'stylers': [{\r\n          'hue': '#f7f2f2'\r\n        }\r\n      ]\r\n    }, {\r\n      'featureType': 'administrative.province',\r\n      'elementType': 'labels.text.fill',\r\n      'stylers': [{\r\n          'color': '#ff9696'\r\n        }\r\n      ]\r\n    }, {\r\n      'featureType': 'administrative.locality',\r\n      'elementType': 'all',\r\n      'stylers': [{\r\n          'color': '#ffffff'\r\n        }\r\n      ]\r\n    }, {\r\n      'featureType': 'administrative.locality',\r\n      'elementType': 'geometry',\r\n      'stylers': [{\r\n          'color': '#f3f3f3'\r\n        }\r\n      ]\r\n    }, {\r\n      'featureType': 'administrative.locality',\r\n      'elementType': 'geometry.fill',\r\n      'stylers': [{\r\n          'color': '#f5f5f5'\r\n        }\r\n      ]\r\n    }, {\r\n      'featureType': 'administrative.locality',\r\n      'elementType': 'labels.text.fill',\r\n      'stylers': [{\r\n          'color': '#eb8d8d'\r\n        }\r\n      ]\r\n    }, {\r\n      'featureType': 'administrative.land_parcel',\r\n      'elementType': 'geometry.fill',\r\n      'stylers': [{\r\n          'color': '#f7f2f2'\r\n        }\r\n      ]\r\n    }, {\r\n      'featureType': 'landscape.man_made',\r\n      'elementType': 'geometry.fill',\r\n      'stylers': [{\r\n          'color': '#f7f2f2'\r\n        }\r\n      ]\r\n    }, {\r\n      'featureType': 'landscape.natural',\r\n      'elementType': 'geometry.fill',\r\n      'stylers': [{\r\n          'color': '#f7f2f2'\r\n        }\r\n      ]\r\n    }, {\r\n      'featureType': 'landscape.natural.terrain',\r\n      'elementType': 'geometry',\r\n      'stylers': [{\r\n          'color': '#f7f2f2'\r\n        }\r\n      ]\r\n    }, {\r\n      'featureType': 'poi',\r\n      'elementType': 'geometry.fill',\r\n      'stylers': [{\r\n          'color': '#f7f2f2'\r\n        }\r\n      ]\r\n    }, {\r\n      'featureType': 'poi',\r\n      'elementType': 'labels.text.fill',\r\n      'stylers': [{\r\n          'hue': '#ff0000'\r\n        }\r\n      ]\r\n    }, {\r\n      'featureType': 'poi.park',\r\n      'elementType': 'geometry',\r\n      'stylers': [{\r\n          'color': '#f7f2f2'\r\n        }\r\n      ]\r\n    }, {\r\n      'featureType': 'poi.park',\r\n      'elementType': 'labels.text.fill',\r\n      'stylers': [{\r\n          'color': '#ada5a5'\r\n        }\r\n      ]\r\n    }, {\r\n      'featureType': 'road',\r\n      'elementType': 'geometry',\r\n      'stylers': [{\r\n          'lightness': 50\r\n        }, {\r\n          'visibility': 'simplified'\r\n        }, {\r\n          'color': '#fad2d2'\r\n        }\r\n      ]\r\n    }, {\r\n      'featureType': 'road',\r\n      'elementType': 'labels',\r\n      'stylers': [{\r\n          'visibility': 'on'\r\n        }\r\n      ]\r\n    }, {\r\n      'featureType': 'water',\r\n      'elementType': 'geometry.fill',\r\n      'stylers': [{\r\n          'color': '#f7f2f2'\r\n        }\r\n      ]\r\n    }\r\n  ];\r\n    family_locations: any = [\r\n      {\r\n        location: {\r\n          lat: 50.5824654,\r\n          lng: 9.6261155}\r\n      },\r\n      {\r\n        location: {\r\n          lat: 50.5824674,\r\n          lng: 9.6261155}\r\n      }\r\n    ];\r\n    marker: any;\r\n    apiKey: any = 'AIzaSyBZFiZ7q18GovYowVc_QmwUanvlQyEZJvo'; /*Your API Key*/\r\n\r\n    constructor(public zone: NgZone, public geolocation: Geolocation,\r\n      private trackingService: TrackingService,\r\n      private authenticationService: AuthenticationService,\r\n      private platform: Platform) {\r\n\r\n      /*load google map script dynamically */\r\n        const script = document.createElement('script');\r\n        script.id = 'googleMap';\r\n        if (this.apiKey) {\r\n            script.src = 'https://maps.googleapis.com/maps/api/js?key=' + this.apiKey;\r\n        } else {\r\n            script.src = 'https://maps.googleapis.com/maps/api/js?key=';\r\n        }\r\n\r\n        document.head.appendChild(script);\r\n        /*Get Current location*/\r\n        this.geolocation.getCurrentPosition().then((position) =>  {\r\n            this.location.lat = position.coords.latitude;\r\n            this.location.lng = position.coords.longitude;\r\n        });\r\n\r\n        /*Map options*/\r\n        this.mapOptions = {\r\n            center: this.location,\r\n            zoom: 9,\r\n            mapTypeControl: true,\r\n            styles: this.gmapstyles\r\n        };\r\n    }\r\n    ngOnInit() {\r\n      this.user = this.authenticationService.getUser();\r\n        setTimeout(() => {\r\n            this.initMap();\r\n        }, 3000);\r\n    }\r\n\r\n    initMap() {\r\n      this.map = new google.maps.Map(this.mapElement.nativeElement, this.mapOptions);\r\n      /*Marker Options*/\r\n      this.markerOptions.position = this.location;\r\n      this.markerOptions.map = this.map;\r\n      this.markerOptions.title = 'My Location';\r\n      // this.marker = new google.maps.Marker(this.markerOptions);\r\n      this.trackingService.getFamilyMemberLastPositions(0, this.user.userid).subscribe(FamilyMemberLastPositions => {\r\n        // const fam = JSON.stringify(FamilyMemberLastPositions);\r\n        const fam: any = FamilyMemberLastPositions;\r\n        // Iterate trough my places / add marker & eventlistener\r\n        for (let i = 0; i < fam.length; i++) {\r\n          this.addMarker(fam[i].location, 'http://familyapp.arina-web-innovations.online' + fam[i].image);\r\n        }\r\n       });\r\n        // Adds a marker at the center of the map.\r\n        this.addMarker(this.location, 'http://familyapp.arina-web-innovations.online/assets/icon/gmaps_icon_big.png');\r\n      }\r\n\r\n      locate() {\r\n        this.geolocation.getCurrentPosition().then((resp) => {\r\n          this.location.lat = resp.coords.latitude;\r\n          this.location.lng = resp.coords.longitude;\r\n          const encodedLoation = JSON.stringify(this.location);\r\n          this.trackingService.setNewPosition(this.user.userid, this.user.image, encodedLoation, 1).subscribe(messages => {\r\n           // console.log(encodedLoation);\r\n          });\r\n\r\n          if ((!this.map.getBounds().contains(this.location))) { // Note the double &\r\n            this.map.setCenter(this.location);\r\n            // OR map.panTo(marker.getPosition());\r\n        }\r\n\r\n         }).catch((error) => {\r\n           console.log('Error getting location', error);\r\n         });\r\n      }\r\n\r\n      bouncingListener(marker) {\r\n        if (marker.bouncingMarker) {\r\n          marker.bouncingMarker.setAnimation(null);\r\n        }\r\n        if (marker.bouncingMarker !== this) {\r\n          marker.setAnimation(google.maps.Animation.BOUNCE);\r\n          marker.bouncingMarker = this;\r\n        } else {\r\n          marker.bouncingMarker = null;\r\n        }\r\n          console.log('Bouncing of Marker analyzed: Function \"bouncingListener\"');\r\n      }\r\n\r\n      // Adds a marker to the map and push to the array.\r\n      addMarker(location, icon) {\r\n        const infowindow = new google.maps.InfoWindow();\r\n        const Myicon = new google.maps.MarkerImage(icon, null, null, null, new google.maps.Size(100, 100));\r\n        const marker = new google.maps.Marker({\r\n          position: location,\r\n          title: 'Snazzy!',\r\n          map: this.map,\r\n          icon: Myicon\r\n        });\r\n        // This event listener will call addMarker() when the map is clicked.\r\n        marker.addListener('click', function(event) {\r\n          return function () {\r\n            // closeAllInfoWindows();\r\n            infowindow.setContent('loadInfoWindowContent(i, la, lo)');\r\n            infowindow.open(this.map, event);\r\n            this.bouncingListener(marker);\r\n          };\r\n        });\r\n        this.infoWindows.push(infowindow);\r\n        this.bounds = new google.maps.LatLngBounds();\r\n        this.markers.push(marker);\r\n        this.showMarkers();\r\n\r\n      }\r\n\r\n      // Sets the map on all markers in the array.\r\n      setMapOnAll(map) {\r\n        for (let i = 0; i < this.markers.length; i++) {\r\n          this.markers[i].setMap(this.map);\r\n        }\r\n      }\r\n\r\n      // Removes the markers from the map, but keeps them in the array.\r\n      clearMarkers() {\r\n        this.setMapOnAll(null);\r\n      }\r\n\r\n      // Shows any markers currently in the array.\r\n      showMarkers() {\r\n        this.setMapOnAll(this.map);\r\n      }\r\n\r\n      // Deletes all markers in the array by removing references to them.\r\n      deleteMarkers() {\r\n        this.clearMarkers();\r\n        this.markers = [];\r\n      }\r\n  }\r\n"],"sourceRoot":""}