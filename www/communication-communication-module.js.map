{"version":3,"sources":["webpack:///./src/app/communication/communication.module.ts","webpack:///./src/app/communication/communication.page.html","webpack:///./src/app/communication/communication.page.scss","webpack:///./src/app/communication/communication.page.ts"],"names":[],"mappings":"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","file":"communication-communication-module.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { CommunicationPage } from './communication.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: CommunicationPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    RouterModule.forChild(routes)\r\n  ],\r\n  declarations: [CommunicationPage]\r\n})\r\nexport class CommunicationPageModule {}\r\n","module.exports = \"<ion-header>    \\r\\n  <ion-toolbar color=\\\"primary\\\">\\r\\n      <ion-buttons slot=\\\"start\\\">\\r\\n          <ion-menu-button></ion-menu-button>               \\r\\n        </ion-buttons>\\r\\n      <ion-title class=\\\"title-ios hydrated\\\">Communication</ion-title>\\r\\n  </ion-toolbar> \\r\\n</ion-header>\\r\\n\\r\\n<ion-content>\\r\\n  <ion-item>\\r\\n    <ion-label>New Conversation</ion-label>\\r\\n    <ion-select #newConv placeholder=\\\"Select Familymember\\\" (ionChange)=\\\"onChangeNewConv(newConv.value)\\\" >\\r\\n      <ion-select-option value=\\\"4\\\" >Arina Amirian</ion-select-option>\\r\\n      <ion-select-option value=\\\"1\\\">Dave No. 1</ion-select-option>\\r\\n    </ion-select>\\r\\n  </ion-item>\\r\\n  <ion-row>\\r\\n    <ion-col>\\r\\n      <ion-item (click)=\\\"chatModal(conversation.conversation_id, conversation.userid, currentUser.userid)\\\" *ngFor=\\\"let conversation of conversations\\\">\\r\\n        <ion-avatar item-left>\\r\\n          <img [src]=\\\"conversation.image\\\" *ngIf=\\\"conversation.image\\\">\\r\\n        </ion-avatar>\\r\\n      <h2>{{conversation.firstname}} {{conversation.lastname}}</h2>\\r\\n      <p slot=\\\"end\\\">{{ conversation.message_text }}</p>\\r\\n      </ion-item>         \\r\\n    </ion-col>\\r\\n  </ion-row>\\r\\n</ion-content>\\r\\n\\r\\n  <!-- Tab bar -->\\r\\n  <ion-tab-bar slot=\\\"bottom\\\" class=\\\"tbs-10\\\" style=\\\"max-height: 10%;\\\">\\r\\n    <ion-tab-button tab=\\\"dashboard\\\" [routerLink]=\\\"['/user']\\\">\\r\\n      <img src=\\\"/assets/icon/mypage.png\\\" style=\\\"width: 40px; height: 40px;\\\">\\r\\n    </ion-tab-button>\\r\\n    <ion-tab-button tab=\\\"account\\\" [routerLink]=\\\"['/family']\\\">\\r\\n      <img src=\\\"/assets/icon/family_blue.png\\\" style=\\\"width: 40px; height: 40px;\\\">\\r\\n    </ion-tab-button>\\r\\n    <ion-tab-button tab=\\\"contact\\\" [routerLink]=\\\"['/communication']\\\">\\r\\n      <img src=\\\"/assets/icon/communication_blue.png\\\" style=\\\"width: 40px; height: 40px;\\\">\\r\\n    </ion-tab-button>\\r\\n    <ion-tab-button tab=\\\"calendar\\\" [routerLink]=\\\"['/calendar']\\\">\\r\\n      <img src=\\\"/assets/icon/calendar_blue.png\\\" style=\\\"width: 40px; height: 40px;\\\">\\r\\n    </ion-tab-button>\\r\\n    <ion-tab-button tab=\\\"tracking\\\" [routerLink]=\\\"['/tracking']\\\">\\r\\n      <img src=\\\"/assets/icon/tracking2_blue.png\\\" style=\\\"width: 40px; height: 40px;\\\">\\r\\n    </ion-tab-button>\\r\\n    <ion-tab-button tab=\\\"settings\\\" [routerLink]=\\\"['/settings']\\\">\\r\\n      <img src=\\\"/assets/icon/settings_blue.png\\\" style=\\\"width: 40px; height: 40px;\\\">\\r\\n    </ion-tab-button>\\r\\n  </ion-tab-bar>\\r\\n \"","module.exports = \"ion-content .scroll-content {\\n  background-color: #f5f5f5; }\\n\\nion-footer {\\n  box-shadow: 0 0 4px rgba(0, 0, 0, 0.11);\\n  background-color: #fff;\\n  height: 255px; }\\n\\n.line-breaker {\\n  white-space: pre-line; }\\n\\n.input-wrap {\\n  padding: 5px;\\n  display: flex; }\\n\\n.input-wrap textarea {\\n  flex: 1;\\n  border: 0;\\n  border-bottom: 1px #387ef5;\\n  border-style: solid; }\\n\\n.message-wrap {\\n  padding: 0 10px; }\\n\\n.message-wrap .message {\\n  position: relative;\\n  padding: 7px 0; }\\n\\n.message-wrap .message .user-img {\\n  position: absolute;\\n  border-radius: 45px;\\n  width: 45px;\\n  height: 45px;\\n  box-shadow: 0 0 2px rgba(0, 0, 0, 0.36); }\\n\\n.message-wrap .message .msg-detail {\\n  width: 100%;\\n  display: inline-block; }\\n\\n.message-wrap .message .msg-detail p {\\n  margin: 0; }\\n\\n.message-wrap .message .msg-detail .msg-info p {\\n  font-size: .8em;\\n  color: #888; }\\n\\n.message-wrap .message .msg-detail .msg-content {\\n  position: relative;\\n  margin-top: 5px;\\n  border-radius: 5px;\\n  padding: 8px;\\n  border: 1px solid #ddd;\\n  color: #fff;\\n  width: auto;\\n  max-width: 80%; }\\n\\n.message-wrap .message .msg-detail .msg-content span.triangle {\\n  background-color: #fff;\\n  border-radius: 2px;\\n  height: 8px;\\n  width: 8px;\\n  top: 12px;\\n  display: block;\\n  border-style: solid;\\n  border-color: #ddd;\\n  border-width: 1px;\\n  -webkit-transform: rotate(45deg);\\n  transform: rotate(45deg);\\n  position: absolute; }\\n\\n.message-wrap .message.left .msg-content {\\n  background-color: #fff;\\n  float: left; }\\n\\n.message-wrap .message.left .msg-detail {\\n  padding-left: 60px; }\\n\\n.message-wrap .message.left .user-img {\\n  left: 0; }\\n\\n.message-wrap .message.left .msg-detail .msg-content {\\n  color: #343434; }\\n\\n.message-wrap .message.left .msg-detail .msg-content span.triangle {\\n  border-top-width: 0;\\n  border-right-width: 0;\\n  left: -5px; }\\n\\n.message-wrap .message.right .msg-detail {\\n  padding-right: 60px; }\\n\\n.message-wrap .message.right .msg-detail .msg-info {\\n  text-align: right; }\\n\\n.message-wrap .message.right .user-img {\\n  right: 0; }\\n\\n.message-wrap .message.right ion-spinner {\\n  position: absolute;\\n  right: 10px;\\n  top: 50px; }\\n\\n.message-wrap .message.right .msg-detail .msg-content {\\n  background-color: #387ef5;\\n  float: right; }\\n\\n.message-wrap .message.right .msg-detail .msg-content span.triangle {\\n  background-color: #387ef5;\\n  border-bottom-width: 0;\\n  border-left-width: 0;\\n  right: -5px; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvY29tbXVuaWNhdGlvbi9HOlxcYW5kcm9pZFxcZmFtaWx5X25ldy9zcmNcXGFwcFxcY29tbXVuaWNhdGlvblxcY29tbXVuaWNhdGlvbi5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDSSx5QkFBeUIsRUFBQTs7QUFFM0I7RUFDRSx1Q0FBdUM7RUFDdkMsc0JBQXNCO0VBQ3RCLGFBQWEsRUFBQTs7QUFFZjtFQUNFLHFCQUFxQixFQUFBOztBQUV2QjtFQUNFLFlBQVk7RUFDWixhQUFhLEVBQUE7O0FBQ2I7RUFDRSxPQUFPO0VBQ1AsU0FBUztFQUNULDBCQUEwQjtFQUMxQixtQkFBbUIsRUFBQTs7QUFFdkI7RUFDRSxlQUFlLEVBQUE7O0FBQ2Y7RUFDRSxrQkFBa0I7RUFDbEIsY0FBYyxFQUFBOztBQUNkO0VBQ0Usa0JBQWtCO0VBQ2xCLG1CQUFtQjtFQUNuQixXQUFXO0VBQ1gsWUFBWTtFQUNaLHVDQUF1QyxFQUFBOztBQUN6QztFQUNFLFdBQVc7RUFDWCxxQkFBcUIsRUFBQTs7QUFDckI7RUFDRSxTQUFTLEVBQUE7O0FBQ1g7RUFDRSxlQUFlO0VBQ2YsV0FBVyxFQUFBOztBQUNiO0VBQ0Usa0JBQWtCO0VBQ2xCLGVBQWU7RUFDZixrQkFBa0I7RUFDbEIsWUFBWTtFQUNaLHNCQUFzQjtFQUN0QixXQUFXO0VBQ1gsV0FBVztFQUNYLGNBQWMsRUFBQTs7QUFDZDtFQUNFLHNCQUFzQjtFQUN0QixrQkFBa0I7RUFDbEIsV0FBVztFQUNYLFVBQVU7RUFDVixTQUFTO0VBQ1QsY0FBYztFQUNkLG1CQUFtQjtFQUNuQixrQkFBa0I7RUFDbEIsaUJBQWlCO0VBQ2pCLGdDQUFnQztFQUNoQyx3QkFBd0I7RUFDeEIsa0JBQWtCLEVBQUE7O0FBQzFCO0VBQ0Usc0JBQXNCO0VBQ3RCLFdBQVcsRUFBQTs7QUFDYjtFQUNFLGtCQUFrQixFQUFBOztBQUNwQjtFQUNFLE9BQU8sRUFBQTs7QUFDVDtFQUNFLGNBQWMsRUFBQTs7QUFDZDtFQUNFLG1CQUFtQjtFQUNuQixxQkFBcUI7RUFDckIsVUFBVSxFQUFBOztBQUNkO0VBQ0UsbUJBQW1CLEVBQUE7O0FBQ25CO0VBQ0UsaUJBQWlCLEVBQUE7O0FBQ3JCO0VBQ0UsUUFBUSxFQUFBOztBQUNWO0VBQ0Usa0JBQWtCO0VBQ2xCLFdBQVc7RUFDWCxTQUFTLEVBQUE7O0FBQ1g7RUFDRSx5QkFBeUI7RUFDekIsWUFBWSxFQUFBOztBQUNaO0VBQ0UseUJBQXlCO0VBQ3pCLHNCQUFzQjtFQUN0QixvQkFBb0I7RUFDcEIsV0FBVyxFQUFBIiwiZmlsZSI6InNyYy9hcHAvY29tbXVuaWNhdGlvbi9jb21tdW5pY2F0aW9uLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbImlvbi1jb250ZW50IC5zY3JvbGwtY29udGVudCB7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZjVmNWY1OyB9XHJcbiAgXHJcbiAgaW9uLWZvb3RlciB7XHJcbiAgICBib3gtc2hhZG93OiAwIDAgNHB4IHJnYmEoMCwgMCwgMCwgMC4xMSk7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmO1xyXG4gICAgaGVpZ2h0OiAyNTVweDsgfVxyXG4gIFxyXG4gIC5saW5lLWJyZWFrZXIge1xyXG4gICAgd2hpdGUtc3BhY2U6IHByZS1saW5lOyB9XHJcbiAgXHJcbiAgLmlucHV0LXdyYXAge1xyXG4gICAgcGFkZGluZzogNXB4O1xyXG4gICAgZGlzcGxheTogZmxleDsgfVxyXG4gICAgLmlucHV0LXdyYXAgdGV4dGFyZWEge1xyXG4gICAgICBmbGV4OiAxO1xyXG4gICAgICBib3JkZXI6IDA7XHJcbiAgICAgIGJvcmRlci1ib3R0b206IDFweCAjMzg3ZWY1O1xyXG4gICAgICBib3JkZXItc3R5bGU6IHNvbGlkOyB9XHJcbiAgXHJcbiAgLm1lc3NhZ2Utd3JhcCB7XHJcbiAgICBwYWRkaW5nOiAwIDEwcHg7IH1cclxuICAgIC5tZXNzYWdlLXdyYXAgLm1lc3NhZ2Uge1xyXG4gICAgICBwb3NpdGlvbjogcmVsYXRpdmU7XHJcbiAgICAgIHBhZGRpbmc6IDdweCAwOyB9XHJcbiAgICAgIC5tZXNzYWdlLXdyYXAgLm1lc3NhZ2UgLnVzZXItaW1nIHtcclxuICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgICAgICAgYm9yZGVyLXJhZGl1czogNDVweDtcclxuICAgICAgICB3aWR0aDogNDVweDtcclxuICAgICAgICBoZWlnaHQ6IDQ1cHg7XHJcbiAgICAgICAgYm94LXNoYWRvdzogMCAwIDJweCByZ2JhKDAsIDAsIDAsIDAuMzYpOyB9XHJcbiAgICAgIC5tZXNzYWdlLXdyYXAgLm1lc3NhZ2UgLm1zZy1kZXRhaWwge1xyXG4gICAgICAgIHdpZHRoOiAxMDAlO1xyXG4gICAgICAgIGRpc3BsYXk6IGlubGluZS1ibG9jazsgfVxyXG4gICAgICAgIC5tZXNzYWdlLXdyYXAgLm1lc3NhZ2UgLm1zZy1kZXRhaWwgcCB7XHJcbiAgICAgICAgICBtYXJnaW46IDA7IH1cclxuICAgICAgICAubWVzc2FnZS13cmFwIC5tZXNzYWdlIC5tc2ctZGV0YWlsIC5tc2ctaW5mbyBwIHtcclxuICAgICAgICAgIGZvbnQtc2l6ZTogLjhlbTtcclxuICAgICAgICAgIGNvbG9yOiAjODg4OyB9XHJcbiAgICAgICAgLm1lc3NhZ2Utd3JhcCAubWVzc2FnZSAubXNnLWRldGFpbCAubXNnLWNvbnRlbnQge1xyXG4gICAgICAgICAgcG9zaXRpb246IHJlbGF0aXZlO1xyXG4gICAgICAgICAgbWFyZ2luLXRvcDogNXB4O1xyXG4gICAgICAgICAgYm9yZGVyLXJhZGl1czogNXB4O1xyXG4gICAgICAgICAgcGFkZGluZzogOHB4O1xyXG4gICAgICAgICAgYm9yZGVyOiAxcHggc29saWQgI2RkZDtcclxuICAgICAgICAgIGNvbG9yOiAjZmZmO1xyXG4gICAgICAgICAgd2lkdGg6IGF1dG87XHJcbiAgICAgICAgICBtYXgtd2lkdGg6IDgwJTsgfVxyXG4gICAgICAgICAgLm1lc3NhZ2Utd3JhcCAubWVzc2FnZSAubXNnLWRldGFpbCAubXNnLWNvbnRlbnQgc3Bhbi50cmlhbmdsZSB7XHJcbiAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICNmZmY7XHJcbiAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDJweDtcclxuICAgICAgICAgICAgaGVpZ2h0OiA4cHg7XHJcbiAgICAgICAgICAgIHdpZHRoOiA4cHg7XHJcbiAgICAgICAgICAgIHRvcDogMTJweDtcclxuICAgICAgICAgICAgZGlzcGxheTogYmxvY2s7XHJcbiAgICAgICAgICAgIGJvcmRlci1zdHlsZTogc29saWQ7XHJcbiAgICAgICAgICAgIGJvcmRlci1jb2xvcjogI2RkZDtcclxuICAgICAgICAgICAgYm9yZGVyLXdpZHRoOiAxcHg7XHJcbiAgICAgICAgICAgIC13ZWJraXQtdHJhbnNmb3JtOiByb3RhdGUoNDVkZWcpO1xyXG4gICAgICAgICAgICB0cmFuc2Zvcm06IHJvdGF0ZSg0NWRlZyk7XHJcbiAgICAgICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTsgfVxyXG4gICAgLm1lc3NhZ2Utd3JhcCAubWVzc2FnZS5sZWZ0IC5tc2ctY29udGVudCB7XHJcbiAgICAgIGJhY2tncm91bmQtY29sb3I6ICNmZmY7XHJcbiAgICAgIGZsb2F0OiBsZWZ0OyB9XHJcbiAgICAubWVzc2FnZS13cmFwIC5tZXNzYWdlLmxlZnQgLm1zZy1kZXRhaWwge1xyXG4gICAgICBwYWRkaW5nLWxlZnQ6IDYwcHg7IH1cclxuICAgIC5tZXNzYWdlLXdyYXAgLm1lc3NhZ2UubGVmdCAudXNlci1pbWcge1xyXG4gICAgICBsZWZ0OiAwOyB9XHJcbiAgICAubWVzc2FnZS13cmFwIC5tZXNzYWdlLmxlZnQgLm1zZy1kZXRhaWwgLm1zZy1jb250ZW50IHtcclxuICAgICAgY29sb3I6ICMzNDM0MzQ7IH1cclxuICAgICAgLm1lc3NhZ2Utd3JhcCAubWVzc2FnZS5sZWZ0IC5tc2ctZGV0YWlsIC5tc2ctY29udGVudCBzcGFuLnRyaWFuZ2xlIHtcclxuICAgICAgICBib3JkZXItdG9wLXdpZHRoOiAwO1xyXG4gICAgICAgIGJvcmRlci1yaWdodC13aWR0aDogMDtcclxuICAgICAgICBsZWZ0OiAtNXB4OyB9XHJcbiAgICAubWVzc2FnZS13cmFwIC5tZXNzYWdlLnJpZ2h0IC5tc2ctZGV0YWlsIHtcclxuICAgICAgcGFkZGluZy1yaWdodDogNjBweDsgfVxyXG4gICAgICAubWVzc2FnZS13cmFwIC5tZXNzYWdlLnJpZ2h0IC5tc2ctZGV0YWlsIC5tc2ctaW5mbyB7XHJcbiAgICAgICAgdGV4dC1hbGlnbjogcmlnaHQ7IH1cclxuICAgIC5tZXNzYWdlLXdyYXAgLm1lc3NhZ2UucmlnaHQgLnVzZXItaW1nIHtcclxuICAgICAgcmlnaHQ6IDA7IH1cclxuICAgIC5tZXNzYWdlLXdyYXAgLm1lc3NhZ2UucmlnaHQgaW9uLXNwaW5uZXIge1xyXG4gICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgICAgIHJpZ2h0OiAxMHB4O1xyXG4gICAgICB0b3A6IDUwcHg7IH1cclxuICAgIC5tZXNzYWdlLXdyYXAgLm1lc3NhZ2UucmlnaHQgLm1zZy1kZXRhaWwgLm1zZy1jb250ZW50IHtcclxuICAgICAgYmFja2dyb3VuZC1jb2xvcjogIzM4N2VmNTtcclxuICAgICAgZmxvYXQ6IHJpZ2h0OyB9XHJcbiAgICAgIC5tZXNzYWdlLXdyYXAgLm1lc3NhZ2UucmlnaHQgLm1zZy1kZXRhaWwgLm1zZy1jb250ZW50IHNwYW4udHJpYW5nbGUge1xyXG4gICAgICAgIGJhY2tncm91bmQtY29sb3I6ICMzODdlZjU7XHJcbiAgICAgICAgYm9yZGVyLWJvdHRvbS13aWR0aDogMDtcclxuICAgICAgICBib3JkZXItbGVmdC13aWR0aDogMDtcclxuICAgICAgICByaWdodDogLTVweDsgfSJdfQ== */\"","import { Component, OnInit, ElementRef, ViewChild } from '@angular/core';\r\nimport { ActivatedRoute } from '@angular/router';\r\nimport { MessagesService } from '../services/messages.service';\r\nimport { FamilyService } from '../services/family.service';\r\nimport { ModalController, AlertController, Platform } from '@ionic/angular';\r\nimport { ChatModalComponent } from '../components/chat-modal/chat-modal.component';\r\nimport { AuthenticationService } from '../services/authentication.service';\r\n\r\n// import { Events, Content } from '@ionic-native';\r\n\r\n@Component({\r\n  selector: 'app-communication',\r\n  templateUrl: './communication.page.html',\r\n  styleUrls: ['./communication.page.scss'],\r\n})\r\nexport class CommunicationPage implements OnInit {\r\n  conversations: any;\r\n  currentUser: any;\r\n  to_user_id: any;\r\n  private sub: any;\r\n  loadingid: number;\r\n\r\n  constructor(private messagesService: MessagesService,\r\n                private authenticationService: AuthenticationService,\r\n                public modalController: ModalController,\r\n                public alertController: AlertController,\r\n                private activatedRoute: ActivatedRoute,\r\n                private platform: Platform\r\n                ) { }\r\n  ngOnInit() {\r\n    this.currentUser = this.authenticationService.getUser();\r\n    this.getConversationsByUserId(this.currentUser.userid);\r\n\r\n  }\r\n\r\n  getConversationsByUserId(id: number) {\r\n    this.messagesService.getConversationsByUserId(id).subscribe(conversations => {\r\n      this.conversations = conversations;\r\n    });\r\n  }\r\n\r\n  onChangeNewConv(to_user_id) {\r\n    this.messagesService.createConversation(this.currentUser.userid, to_user_id).subscribe(conversations => {\r\n      if (this.currentUser.userid > 0) {\r\n        this.getConversationsByUserId(this.currentUser.userid);\r\n      } else {\r\n        this.getConversationsByUserId(2);\r\n      }\r\n      console.log(conversations);\r\n      this.chatModal(conversations['conversationid'], to_user_id);\r\n    });\r\n  }\r\n\r\n  async chatModal(conversationid: number, touserid: number) {\r\n    this.to_user_id = touserid;\r\n    const modal = await this.modalController.create({\r\n      component: ChatModalComponent,\r\n      componentProps: {\r\n        conversation_id: conversationid,\r\n        from_user_id: this.currentUser.id,\r\n        to_user_id: touserid\r\n      }\r\n    });\r\n    return await modal.present();\r\n  }\r\n\r\n  async presentAlert(title: string, content: string) {\r\n    const alert = await this.alertController.create({\r\n    header: title,\r\n        message: content,\r\n        buttons: ['OK']\r\n      });\r\n      await alert.present();\r\n    }\r\n\r\n\r\n  async presentLoading(loading) {\r\n    return await loading.present();\r\n  }\r\n}\r\n"],"sourceRoot":""}